<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>pie_crab - Plum Island Ecosystem LTER fiddler crabs (PIE) • lterdatasampler</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="pie_crab - Plum Island Ecosystem LTER fiddler crabs (PIE)">
<meta property="og:description" content="lterdatasampler">
<meta property="og:image" content="https://lter.github.io/lterdatasampler/reference/figures/leaf.png">
<meta property="og:image:alt" content="lterdatasampler package in R">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@allison_horst">
<meta name="twitter:site" content="@allison_horst">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lterdatasampler</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/and_vertebrates_vignette.html">and_vertebrates - Andrews Forest LTER Mack Creek cutthroat trout and salamanders (AND)</a>
    </li>
    <li>
      <a href="../articles/arc_weather_vignette.html">arc_weather - Arctic LTER Toolik Field Station (ARC)</a>
    </li>
    <li>
      <a href="../articles/hbr_maples_vignette.html">hbr_maples - Hubbard Brook Experimental Forest Sugar Maples (HBR)</a>
    </li>
    <li>
      <a href="../articles/knz_bison_vignette.html">knz_bison - Konza Prairie Bison Weights (KNZ)</a>
    </li>
    <li>
      <a href="../articles/luq_streamchem_vignette.html">luq_streamchem - Stream chemistry, Luquillo Mountains of Puerto Rico (LUQ)</a>
    </li>
    <li>
      <a href="../articles/ntl_icecover_vignette.html">ntl_icecover - North Temperate Lakes Ice Cover (NTL)</a>
    </li>
    <li>
      <a href="../articles/nwt_pikas_vignette.html">nwt_pikas - Niwot Ridge Pika Locations (NWT)</a>
    </li>
    <li>
      <a href="../articles/pie_crab_vignette.html">pie_crab - Plum Island Ecosystem LTER fiddler crabs (PIE)</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lter/lterdatasampler/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>pie_crab - Plum Island Ecosystem LTER fiddler
crabs (PIE)</h1>
            <h3 data-toc-skip class="subtitle">Fiddler crab body size in
salt marshes from Florida to Massachusetts, USA during summer 2016 at
Plum Island Ecosystem LTER</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lter/lterdatasampler/blob/HEAD/vignettes/articles/pie_crab_vignette.Rmd" class="external-link"><code>vignettes/articles/pie_crab_vignette.Rmd</code></a></small>
      <div class="hidden name"><code>pie_crab_vignette.Rmd</code></div>

    </div>

    
    
<div class="section level4">
<h4 id="dataset-sample-used">Dataset sample used<a class="anchor" aria-label="anchor" href="#dataset-sample-used"></a>
</h4>
<ul>
<li><code>pie_crab</code></li>
</ul>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Atlantic marsh fiddler crab, <em>Minuca pugnax</em> (formerly
<em>Uca pugnax</em>), lives in salt marshes throughout the eastern coast
of the United States. Historically, <em>M. pugnax</em> were distributed
from northern Florida to Cape Cod, Massachusetts, but like other species
have expanded their range northward due to ocean warming.</p>
<p>The <code>pie_crab</code> data sample is from a study by Johnson and
colleagues at the Plum Island Ecosystem Long Term Ecological Research
site. Here, we use the data to explore Bergmann’s rule:</p>
<blockquote>
<p>“One of the best-known patterns in biogeography is Bergmann’s rule.
It predicts that organisms at higher latitudes are larger than ones at
lower latitudes. Many organisms follow Bergmann’s rule, including
insects, birds, snakes, marine invertebrates, and terrestrial and marine
mammals. What drives Bergmann’s rule? Bergmann originally hypothesized
that the organisms he studied, birds, were larger in the colder, higher
latitudes due to heat-conservation. But the heat-conservation hypothesis
relies on internal regulation of body temperature and therefore does not
apply to ectotherms, some of which also follow Bergmann’s rule. There is
likely no universal mechanism underpinning Bergmann’s rule, regardless
of <a href="https://www.khanacademy.org/science/ap-biology/ecology-ap/energy-flow-through-ecosystems/a/endotherms-ectotherms" class="external-link">ecto-
or endothermy</a>. As a result, other mechanisms have been proposed to
explain Bergmann’s rule, including the starvation-resistant hypothesis,
the diet-quality hypothesis, the enemy hypothesis, the resource rule,
seasonality hypothesis, and the temperature–size rule (Johnson et al.,
2019).”</p>
</blockquote>
<figure style="text-align:center;"><img src="../reference/figures/pie_landscape_img.jpg" width="80%" style="display:block; margin-left: auto; margin-right: auto;"><figcaption>
Plum Island Ecosystem LTER, LTER CC BY-SA 4.0
</figcaption></figure><div class="section level4">
<h4 id="data-sampling-overview">Data sampling overview:<a class="anchor" aria-label="anchor" href="#data-sampling-overview"></a>
</h4>
<ul>
<li>13 marshes were sampled on the Atlantic coast of the United States
in summer 2016</li>
<li>Spanning &gt; 12 degrees of latitude, from northeast Florida to
northeast Massachusetts</li>
<li>Between 25 and 37 adult male fiddler crabs were collected, and their
sizes recorded, from each marsh between 2016-07-24 and 2016-08-13</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="data-exploration">Data Exploration<a class="anchor" aria-label="anchor" href="#data-exploration"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lter/lterdatasampler" class="external-link">lterdatasampler</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.1     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.4</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.4.1     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.2.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.2     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.1     </span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span></code></pre>
<div class="section level3">
<h3 id="latitude-and-water-temperature">Latitude and water temperature<a class="anchor" aria-label="anchor" href="#latitude-and-water-temperature"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pie_crab</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">latitude</span>, x <span class="op">=</span> <span class="va">water_temp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="pie_crab_vignette_files/figure-html/unnamed-chunk-1-1.png" width="624"></p>
<p>Generally, water temperature within the study range
<em>decreases</em> toward lower latitudes.</p>
</div>
<div class="section level3">
<h3 id="summary-statistics">Summary Statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">crab_stats</span> <span class="op">&lt;-</span> <span class="va">pie_crab</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">latitude</span>, <span class="va">site</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>  mean_mm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span>,</span>
<span>  min_mm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span>,</span>
<span>  max_mm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span>,</span>
<span>  sd_mm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span>,</span>
<span>  median_mm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span></span>
<span>  <span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## `summarise()` has grouped output by 'latitude'. You can override using the</span></span>
<span><span class="co">## `.groups` argument.</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">crab_stats</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 13 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Groups:   latitude [13]</span></span></span>
<span><span class="co">##    latitude site      n mean_mm min_mm max_mm sd_mm median_mm</span></span>
<span><span class="co">##       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span>     30   GTM      28   12.4    7.55   14.9  1.80     12.6 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span>     31.4 SI       30    9.85   6.64   13.6  1.79      9.55</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span>     33.3 NIB      30   13.3    8.52   17.3  2.42     13.3 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span>     34   ZI       35   12.1    8.05   15.7  2.01     12.0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span>     34.7 RC       25   12.5    9.4    17.6  2.34     12.1 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span>     37.2 VCR      30   16.3   11.7    21.4  2.94     16.0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span>     39.1 DB       30   15.6   11.5    20.4  2.12     15.1 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span>     39.6 JC       30   15.3    9.58   20.9  2.72     15.4 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span>     41.3 CT       33   14.7   11.0    19.5  2.36     15.5 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span>     41.6 NB       29   17.1   13.2    21.9  2.29     17.2 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span>     41.9 CC       27   16.8   10.6    19.8  2.05     16.7 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span>     42.2 BC       37   16.2    9.01   23.4  4.81     17.3 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span>     42.7 PIE      28   18.5    9.92   22.1  2.30     18.4</span></span></code></pre>
<div class="section level5">
<h5 id="crab-size-boxplot-by-site-latitude">Crab size boxplot (by site latitude)<a class="anchor" aria-label="anchor" href="#crab-size-boxplot-by-site-latitude"></a>
</h5>
<p>Here, we create a boxplot of crab carapace size (mm) by latitude.
Generally, crab sizes increase toward higher latitudes, following
Bergmann’s rule.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pie_crab</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">latitude</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">size</span>, group <span class="op">=</span> <span class="va">latitude</span>, color<span class="op">=</span><span class="op">-</span><span class="va">latitude</span><span class="op">)</span>, outlier.size<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">crab_stats</span>,</span>
<span>            <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">'n ='</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                group <span class="op">=</span> <span class="va">latitude</span>, </span>
<span>                color <span class="op">=</span> <span class="op">-</span><span class="va">latitude</span>, </span>
<span>                x<span class="op">=</span> <span class="va">max_mm</span> <span class="op">+</span> <span class="fl">0.2</span>, </span>
<span>                y<span class="op">=</span> <span class="va">latitude</span> <span class="op">+</span> <span class="fl">0.15</span><span class="op">)</span>, </span>
<span>            size<span class="op">=</span><span class="fl">3.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">7</span>, to <span class="op">=</span> <span class="fl">23</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6.5</span>,<span class="fl">24</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">29</span>, to <span class="op">=</span> <span class="fl">43</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">29</span>, <span class="fl">43.5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="pie_crab_vignette_files/figure-html/unnamed-chunk-3-1.png" width="624"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">crab_summary</span> <span class="op">&lt;-</span> <span class="va">pie_crab</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">latitude</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    mean_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `summarise()` has grouped output by 'site'. You can override using the</span></span>
<span><span class="co">## `.groups` argument.</span></span></code></pre>
</div>
</div>
</div>
<div class="section level2">
<h2 id="simple-linear-regression">Simple Linear Regression<a class="anchor" aria-label="anchor" href="#simple-linear-regression"></a>
</h2>
<div class="section level4">
<h4 id="mean-size-by-site-latitude">Mean size (by site latitude)<a class="anchor" aria-label="anchor" href="#mean-size-by-site-latitude"></a>
</h4>
<p>Another graph of carapace size (mm) by site latitude is below, with
mean sizes recorded for each site shown as red dots (all observations
included as light gray dots), revealing an approximately linear
relationship between mean carapace size and latitude.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">crab_summary</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">latitude</span>, x <span class="op">=</span> <span class="va">mean_size</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"orangered1"</span>, size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">size</span>, y <span class="op">=</span> <span class="va">latitude</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">pie_crab</span>, color <span class="op">=</span> <span class="st">"gray"</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">site</span><span class="op">)</span>, nudge_x <span class="op">=</span> <span class="fl">0.3</span>, nudge_y <span class="op">=</span> <span class="fl">0.3</span>, size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Latitude"</span>, </span>
<span>       x <span class="op">=</span> <span class="st">"Mean carapace width (mm)"</span>,</span>
<span>       title <span class="op">=</span> <span class="st">"Mean carapace width of male fiddler crabs by latitude"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `geom_smooth()` using formula = 'y ~ x'</span></span></code></pre>
<p><img src="pie_crab_vignette_files/figure-html/unnamed-chunk-5-1.png" width="624"></p>
</div>
<div class="section level4">
<h4 id="bergmanns-rule---further-exploration">Bergmann’s rule - further exploration<a class="anchor" aria-label="anchor" href="#bergmanns-rule---further-exploration"></a>
</h4>
<p>Our visual exploration seems to follow Bergmann’s rule. Here, we use
simple linear regression to explore the relationship between crab size
and latitude a bit more (only using latitude as a predictor variable -
note that further exploration can be done using alternate or additional
variables in the dataset):</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Linear model:</span></span>
<span><span class="va">crab_size_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">size</span> <span class="op">~</span> <span class="va">latitude</span>, data <span class="op">=</span> <span class="va">pie_crab</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Return model summary output:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">crab_size_model</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## lm(formula = size ~ latitude, data = pie_crab)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Residuals:</span></span>
<span><span class="co">##     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">## -7.8376 -1.8797  0.1144  1.9484  6.9280 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">##             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">## (Intercept) -3.62442    1.27405  -2.845  0.00468 ** </span></span>
<span><span class="co">## latitude     0.48512    0.03359  14.441  &lt; 2e-16 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Residual standard error: 2.832 on 390 degrees of freedom</span></span>
<span><span class="co">## Multiple R-squared:  0.3484, Adjusted R-squared:  0.3467 </span></span>
<span><span class="co">## F-statistic: 208.5 on 1 and 390 DF,  p-value: &lt; 2.2e-16</span></span></code></pre>
<p>The fiddler crab does appear follow Bergmann’s rule. On average,
carapace width increased by 0.5 mm for every degree increase in
latitude, and latitude significantly predicts crab size.</p>
</div>
</div>
<div class="section level2">
<h2 id="conclusion-and-further-exploration">Conclusion and further exploration<a class="anchor" aria-label="anchor" href="#conclusion-and-further-exploration"></a>
</h2>
<p>In summary, from initial visual exploration and simple linear
regression examples here, <em>M. pugnax</em> appears to follow
Bergmann’s rule, with crab size increasing in salt marshes at higher
latitudes.</p>
<p>Further analysis might include:</p>
<ul>
<li>Multiple linear regression, including other variables (air
temperature, water temperature, and/or standard deviations of both as a
metric for seasonality)</li>
<li>Statistical analyses of size difference between sites (e.g. by
ANOVA, or t-tests if only comparing 2 sites)</li>
</ul>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<ul>
<li><p>Johnson, D. 2019. Fiddler crab body size in salt marshes from
Florida to Massachusetts, USA at PIE and VCR LTER and NOAA NERR sites
during summer 2016. ver 1. Environmental Data Initiative. <a href="https://doi.org/10.6073/pasta/4c27d2e778d3325d3830a5142e3839bb" class="external-link uri">https://doi.org/10.6073/pasta/4c27d2e778d3325d3830a5142e3839bb</a>
(Accessed 2021-05-27).</p></li>
<li><p>Johnson DS, Crowley C, Longmire K, Nelson J, Williams B,
Wittyngham S. The fiddler crab, Minuca pugnax, follows Bergmann’s rule.
Ecol Evol. 2019;00:1–9. <a href="https://doi.org/10.1002/ece3.5883" class="external-link uri">https://doi.org/10.1002/ece3.5883</a></p></li>
</ul>
</div>
<div class="section level2">
<h2 id="how-we-processed-the-raw-data">How we processed the raw data<a class="anchor" aria-label="anchor" href="#how-we-processed-the-raw-data"></a>
</h2>
<div class="section level4">
<h4 id="download-the-raw-data-from-edi-org">Download the raw data from EDI.org<a class="anchor" aria-label="anchor" href="#download-the-raw-data-from-edi-org"></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sfirke/janitor" class="external-link">janitor</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://usethis.r-lib.org" class="external-link">usethis</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nceas/metajam" class="external-link">metajam</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">pie_url</span> <span class="op">&lt;-</span> <span class="st">"https://portal.edirepository.org/nis/dataviewer?packageid=knb-lter-pie.540.1&amp;entityid=bab5a4d6df7dce829a222f281cca55a5"</span> <span class="co"># Save link location for the data package:</span></span>
<span><span class="va">pie_download</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/metajam/man/download_d1_data.html" class="external-link">download_d1_data</a></span><span class="op">(</span>data_url <span class="op">=</span> <span class="va">pie_url</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, dir_name<span class="op">=</span><span class="st">"pie"</span><span class="op">)</span> <span class="co"># Download the data package with metajam</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="data-cleaning">Data cleaning<a class="anchor" aria-label="anchor" href="#data-cleaning"></a>
</h4>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read in data</span></span>
<span><span class="va">pie_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/metajam/man/read_d1_files.html" class="external-link">read_d1_files</a></span><span class="op">(</span><span class="va">pie_download</span><span class="op">)</span></span>
<span><span class="va">pie_data</span> <span class="op">&lt;-</span> <span class="va">pie_files</span><span class="op">$</span><span class="va">data</span></span>
<span></span>
<span><span class="co"># Basic cleaning</span></span>
<span></span>
<span><span class="va">pie_crab</span> <span class="op">&lt;-</span> <span class="va">pie_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">replicate</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">pie_files</span><span class="op">$</span><span class="va">factor_metadata</span><span class="op">[</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"site"</span> <span class="op">=</span> <span class="st">"code"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"name"</span> <span class="op">=</span> <span class="st">"definition"</span>,</span>
<span>         <span class="st">"size"</span> <span class="op">=</span> <span class="st">"carapace_width"</span>,</span>
<span>         <span class="st">"air_temp"</span> <span class="op">=</span> <span class="st">"mata"</span>,</span>
<span>         <span class="st">"water_temp"</span> <span class="op">=</span> <span class="st">"matw"</span>,</span>
<span>         <span class="st">"air_temp_sd"</span> <span class="op">=</span> <span class="st">"sata"</span>,</span>
<span>         <span class="st">"water_temp_sd"</span> <span class="op">=</span> <span class="st">"satw"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://www.allisonhorst.com/" class="external-link">Allison Horst</a>, <a href="https://brunj7.github.io/" class="external-link">Julien Brun</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
